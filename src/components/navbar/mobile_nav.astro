---
import type { NavLink } from './types'
import CloseIcon from '@mui/icons-material/Close';

interface Props {
  links: NavLink[]
  activeLink: string
  on_click: () => void
}

const { links, activeLink, on_click } = Astro.props;
---

<div class="fixed top-0 w-full min-h-screen z-20">
  <div class="flex pt-2">
    <div class="z-40 w-full">
      <div class="flex w-full justify-end">
        <button class="p-2">
          <CloseIcon className="active:text-muted-white" />
        </button>
      </div>
      <ul>
        {links.map((link: NavLink, i: number) => {
          return <li class="mb-3 mt-3 opacity-0 animate-fade-up" style={{animationDelay: `${(i + 1) * 150}ms`}}>
            <a href={link.target}  
              class={`text-7xl no-underline font-meslo font-bold ${link.target === activeLink ? " text-orange" : ""}`}
              aria-current={link.target === activeLink ? "page" : undefined}
            >
              {link.name.toUpperCase()}
            </a>
          </li>
        })}
      </ul>
    </div>
    <div class="absolute w-full h-full bg-grey-normal z-30"></div>  
  </div>
</div>

<script>
const { links, activeLink, on_click } = Astro.props;
  const links = document.querySelectorAll("a");
  links.forEach((link) => {
    link.addEventListener("click", () => on_click);
  })
</script> 